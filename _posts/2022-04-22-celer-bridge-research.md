---
layout: post
title:  "Celer Bridge Research"
author: devfans
categories: [ cBridge, BlockChain, Bridge, Research ]
image: /static.livefeed.cn/static/blog/cbridge.png
tags: [featured, bridge]
---

Recently, I did some researches on some existing popular cross chain bridges, here to dump them on the blog with three pages, for Celer Bridge, Connext, MultiChain respectively.

Last time when checking around celer bridge contracts, found it's usinng HTLC(hash time lock contracts), so the cross chain flow would be user submit a cross chain request on the source chain, the bridge's LP prepare on the destination chain, when users expose the preimage to unlock assets from either side, the bridge will be able to claim the locked assets on the source chain.

However, it's changed now with its version 2. Firstly, it established a layer 2 sidechain to serve as its SGN, and base it on a PoS mechnism with staking on layer 1. As said, "State guardian network (SGN) is an efficient and scalable sidechain that offers highly reliable and decentralized services to eliminate the state channel security risks and usability hassles caused by the off-chain availability problem".

Maybe I should just embed the research doc here, no more writing. 

<div class="c26"><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 8.00px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 8.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="horizontal line"></span></p><p class="c5 c27 title" id="h.2gazcsgmxkub"><span class="c19 c31">cBridge v2 Research</span></p><p class="c0 subtitle" id="h.2nuf54q86v7q"><span>April, .2022 / &nbsp;stefan liu</span></p><p class="c2"><span class="c18">&#9472;</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 324.00px;"><img alt="" src="https://static.livefeed.cn/static/blog/cbridge-image5.png" style="width: 624.00px; height: 324.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c6 c19 c29"><a class="c9" href="https://www.google.com/url?q=https://cbridge-docs.celer.network/reference/contract-addresses&amp;sa=D&amp;source=editors&amp;ust=1650622529718103&amp;usg=AOvVaw1WEqoIbv75vGfqYCg8bSo7">https://cbridge-docs.celer.network/reference/contract-addresses</a></span></p><p class="c2 c15"><span class="c18"></span></p><p class="c2"><span class="c18">A&#65306; Pool Based Bridge </span></p><p class="c2"><span class="c18">B&#65306; TokenVault Canonical Token Bridge</span></p><h1 class="c1" id="h.pmazbh81wixz"><span class="c16">Bridge TVL</span></h1><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://cbridge-analytics.celer.network/&amp;sa=D&amp;source=editors&amp;ust=1650622529719107&amp;usg=AOvVaw0JVMi8ftRQ99r48D3Camxw">https://cbridge-analytics.celer.network/</a></span></p><p class="c2 c15"><span class="c11"></span></p><a id="t.682ea7e775ed34690ecc30686b5c956a4d7cf3a4"></a><a id="t.0"></a><table class="c20"><tbody><tr class="c33"><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">Bridge/Chain</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">ETH</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">BSC</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">Polygon</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">Arb</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5 c15"><span class="c11"></span></p></td></tr><tr class="c28"><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">Pool Based</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">28milli</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">32milli</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">24milli</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">45milli</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5 c15"><span class="c11"></span></p></td></tr><tr class="c28"><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">TokenVault</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">320milli</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">42milli</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">0.17milli</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5"><span class="c11">0</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c5 c15"><span class="c11"></span></p></td></tr></tbody></table><p class="c2 c15"><span class="c11"></span></p><p class="c2 c15"><span class="c18"></span></p><h1 class="c24" id="h.rpdioqr3qre7"><span class="c16">Pool Based Bridge</span></h1><p class="c0"><span>This model is intended for canonical tokens that have </span><span class="c19">already been generated on different chains</span><span>&nbsp;(e.g., </span><span class="c19">USDT, USDC, ETH</span><span class="c3">). The bridge rate is dynamically adjusted according to the balances of the two liquidity pools, using the StableSwap pricing curve. </span></p><p class="c0"><span>In cBridge 2.0, we are introducing an entirely new model of operation where the SGN manages shared liquidity pool contracts on multiple chains. This effectively treats </span><span class="c19">the SGN and its managed liquidity pool as a single &ldquo;node&rdquo;</span><span class="c3">&nbsp;along with all the other non-custodial LP-managed nodes and gives an option to the LPs to delegate liquidity easily without the hassle of running a node</span></p><p class="c0 c15"><span class="c3"></span></p><h1 class="c24" id="h.59t32o6bjz1b"><span class="c16">TokenVault Canonical Token Bridge</span></h1><p class="c0"><span class="c3">This model is intended for the use case where a token has already been generated on chain A (e.g., Ethereum) but not yet on chain B (e.g., BSC) and bridging is needed between chain A and chain B as business grows (e.g., the dApp is launched on chain B)</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 282.49px; height: 216.50px;"><img alt="" src="https://static.livefeed.cn/static/blog/cbridge-image3.png" style="width: 282.49px; height: 216.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 291.50px; height: 246.65px;"><img alt="" src="https://static.livefeed.cn/static/blog/cbridge-image7.png" style="width: 291.50px; height: 246.65px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c1" id="h.l3nco3btrrwj"><span>Contracts</span></h1><h2 class="c0" id="h.ya9ldh31040g"><span>WithLP</span></h2><p class="c0 c8"><span class="c6">https://etherscan.io/address/0x5427FEFA711Eff984124bFBB1AB6fbf5E3DA1820?__cf_chl_tk=k7Ha4cDzdeoqboJDVazm07cXuygHTiILEdVSWIP.4EQ-1649691604-0-gaNycGzNCFE#code#F10#L55</span></p><p class="c0 c8"><span class="c3">addLiquidity</span></p><p class="c0 c8"><span class="c3">addNativeLiquidity</span></p><p class="c0 c8"><span class="c3">withdraw</span></p><p class="c0 c8"><span class="c3">send</span></p><p class="c0 c8"><span>relay</span></p><h2 class="c0" id="h.kxzde1sl79s3"><span class="c17">Mint/Burn</span></h2><p class="c0"><span class="c21 c19">OriginalTokenVaultBridge</span></p><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://bscscan.com/address/0x78bc5Ee9F11d133A08b331C2e18fE81BE0Ed02DC%23code&amp;sa=D&amp;source=editors&amp;ust=1650622529728437&amp;usg=AOvVaw1SsSXwDCfSjvGHJs2DgVTr">https://bscscan.com/address/0x78bc5Ee9F11d133A08b331C2e18fE81BE0Ed02DC#code</a></span></p><p class="c0"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deposit</span></p><p class="c0"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deposityNative</span></p><p class="c0"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;withdraw</span></p><p class="c0"><span class="c19">PeggedTokenBridge</span></p><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573/contracts&amp;sa=D&amp;source=editors&amp;ust=1650622529729491&amp;usg=AOvVaw29kcYg4vIiITFOYzke-A_P">https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573/contracts</a></span></p><p class="c0"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mint</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;burn</span></p><h1 class="c1" id="h.izh0w05mz75r"><span class="c16">SGN</span></h1><p class="c0"><span class="c3">&#8203;&#8203;State guardian network (SGN) is an efficient and scalable sidechain that offers highly reliable and decentralized services to eliminate the state channel security risks and usability hassles caused by the off-chain availability problem.</span></p><p class="c0 c15"><span class="c3"></span></p><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://www.celer.network/celercore/sgn/guardian.html&amp;sa=D&amp;source=editors&amp;ust=1650622529730588&amp;usg=AOvVaw2431tKiLIRTTy654zwUs1D">https://www.celer.network/celercore/sgn/guardian.html</a></span></p><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://sgn.celer.network/%23/staking&amp;sa=D&amp;source=editors&amp;ust=1650622529730970&amp;usg=AOvVaw1i-_KA0ltvDHot9XKswwAw">https://sgn.celer.network/#/staking</a></span></p><p class="c0"><span class="c3">Layer 2 SideChain </span></p><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://etherscan.io/address/0x8a4b4c2acadeaa7206df96f00052e41d74a015ce%23code&amp;sa=D&amp;source=editors&amp;ust=1650622529731473&amp;usg=AOvVaw3s8gMC0T_NZUJSBzrA2bN6">https://etherscan.io/address/0x8a4b4c2acadeaa7206df96f00052e41d74a015ce#code</a></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 639.26px; height: 400.50px;"><img alt="" src="https://static.livefeed.cn/static/blog/cbridge-image6.png" style="width: 639.26px; height: 400.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c15 c8"><span class="c3"></span></p><h1 class="c1" id="h.yb84yajcu17v"><span class="c16">Bridge Fees &amp; Fee Rebates</span></h1><p class="c0"><span class="c3">Base Fee(gas fee) + Percentage Fee</span></p><p class="c0"><span class="c19 c21">Pool based: &nbsp;</span></p><p class="c0 c8"><span class="c3">For transfers from L2 roll-up chains (Arbitrum/Optimism/Boba/Metis), the liquidity fee percentage is 0.1%-0.5%</span></p><p class="c0 c8"><span class="c3">For all other transfers, the liquidity fee percentage is 0.04%</span></p><p class="c0"><span class="c21 c19">Canonical Token Bridge:</span></p><p class="c0 c14"><span class="c3">The fee percentage is governed by the Celer SGN (usually, the fee percentage is 0%-0.04%). </span></p><p class="c0"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0"><span class="c19">Fee Rebates</span><span>: </span><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://cbridge-docs.celer.network/rewards/fee-rebate&amp;sa=D&amp;source=editors&amp;ust=1650622529733215&amp;usg=AOvVaw075_sJ__abgj291YV3rJrz">https://cbridge-docs.celer.network/rewards/fee-rebate</a></span></p><h1 class="c1" id="h.6zsavxw7qpwy"><span class="c16">AMM StableSwap Curve</span></h1><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://cbridge-docs.celer.network/introduction/sgn-and-cbridge/the-sgn-as-a-shared-liquidity-pool-manager&amp;sa=D&amp;source=editors&amp;ust=1650622529733887&amp;usg=AOvVaw22_3gBkrhBODEa5DSEnsy_">https://cbridge-docs.celer.network/introduction/sgn-and-cbridge/the-sgn-as-a-shared-liquidity-pool-manager</a></span></p><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://curve.fi/files/stableswap-paper.pdf&amp;sa=D&amp;source=editors&amp;ust=1650622529734281&amp;usg=AOvVaw0AJJFqWIAQ_S7oVjo2nPC8">https://curve.fi/files/stableswap-paper.pdf</a></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 504.00px; height: 127.00px;"><img alt="" src="https://static.livefeed.cn/static/blog/cbridge-image4.png" style="width: 504.00px; height: 127.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c25"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 457.50px; height: 352.97px;"><img alt="" src="https://static.livefeed.cn/static/blog/cbridge-image2.png" style="width: 457.50px; height: 352.97px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c1" id="h.jidty822wyii"><span class="c16">cBridge v1</span></h1><p class="c0"><span class="c3">In 1.0, we chose to use a centralized gateway to quickly learn operation experiences on various scheduling policies. Although cBridge 1.0 is built with non-custodial architecture and users NEVER need to put trust in nodes for their fund&rsquo;s security, there is indeed a user experience issue related to node availability. As an example, if after a user sends a conditional transfer to a node but the node goes offline before the two-step HTLC transfer is complete, they will have to wait until the conditional transfer times out, without any penalty to or compensation from this offline cBridge node.</span></p><p class="c0 c15"><span class="c3"></span></p><h1 class="c1" id="h.ylrik5qktctg"><span class="c16">Bridge Node Selection</span></h1><p class="c0"><span>Node Quality Score formula to incorporate multiple factors such as the parameters in a node&rsquo;s </span><span class="c19">SLA (fee, response time)</span><span>&nbsp;as well as </span><span class="c21 c19">historical performance. (e.g. success rate, average response time)</span></p><h1 class="c1" id="h.s43ban5b9ck6"><span class="c16">V2 Benefits</span></h1><p class="c0"><span class="c6"><a class="c9" href="https://www.google.com/url?q=https://cbridge-docs.celer.network/introduction/architectural-benefits&amp;sa=D&amp;source=editors&amp;ust=1650622529736160&amp;usg=AOvVaw3ItY4G1fUYtVXmwmlDVR2t">https://cbridge-docs.celer.network/introduction/architectural-benefits</a></span></p><ul class="c22 lst-kix_ftdcvge4acii-0 start"><li class="c0 c4 li-bullet-0"><span class="c3">Reduce to one operation</span></li><li class="c0 c4 li-bullet-0"><span class="c3">SGN(Decentralized) POS</span></li><li class="c0 c4 li-bullet-0"><span class="c3">No more HTLC</span></li><li class="c0 c4 li-bullet-0"><span class="c3">Deep LP</span></li><li class="c0 c4 li-bullet-0"><span class="c3">LP Balancing with AMM</span></li><li class="c0 c4 li-bullet-0"><span class="c3">Mint/Burn</span></li><li class="c0 c4 li-bullet-0"><span>CELR token</span></li></ul><br><br><br></div>
<div><p class="c27 c32"><span class="c30">&nbsp; </span></p><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 8.00px;"><img alt="" src="https://static.livefeed.cn/static/blog/cbridge-image1.png" style="width: 624.00px; height: 8.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title="horizontal line"></span><span class="c3">&nbsp;</span></p></div>


